# 更新日誌

## ver1.1.15 2023/05/09

- 1.如果下載 ssl 錯誤則關閉 ssl。
- 2.更新部分套件版本 requirements.txt。

## ver1.1.14 2022/12/24

- 1.新增另一種拿影片的方式。
- 2.改用 m3u8 套件拿數量與 uri。
- 3.修正部分資料轉換的方式。

## ver1.1.13 2022/11/17

- 1.修正下載很慢甚至進度完全不會動的問題。

## ver1.1.12 2022/11/17
- 1.依照 websocket video 給的 vid 及 tid 組合 video url。

## ver1.1.11 2022/11/17
- 1.增加 Header 參數。
- 2.換 websocket 套件。

## ver1.1.10 2022/11/05
- 1.改成用 websocket 拿影片資料。

## ver1.1.9 2022/09/20
- 1.取消開啟程式檢查是否可以連線到 MyselfAnime 網站的功能。
- 2.將除了影片下載的 requests 都包 while try except，time.sleep(5)(如有漏了請提醒)。
- 3.修正在每周更新按住動漫名字拖曳時，會發生 mouseMoveEvent 的錯誤導致閃退的問題。
- 4.搜尋動漫如果請求三次失敗會跳出錯誤訊息提示，如先前有搜尋過，會在創出先前的搜尋動漫資料。

## ver1.1.8 2022/08/27
- 1.增加搜尋動漫功能。
- 2.紀錄下載。
- 3.下載動漫時創建資料夾，如果父資料夾不存在會報錯的問題，將 `os.mkdir` 改成 `os.makedirs`

## ver1.1.7 2022/06/09
- 1.標頭增加版本號。
- 2.修正選單"關於"沒有反應的問題。

## ver1.1.6 2021/09/28
- 1.修正從以前開始發送請求失敗會用下一個 Host 發送請求最後陣列會拿超出範圍的問題(卡下載有可能就是這原因)。
- 2.影片下載靜止不動 90 秒後重新下載改成 120 秒。

## ver1.1.5 2021/09/25
- 1.未完成的下載影片會是 .download，下載完畢後會變回 .mp4。
- 2.修正檢查不法文字少一個斜線。
- 3.發現下載影片還是會發生靜止不動的問題，現在 90 秒都沒有變化會重新開新 thread。
- 4.我發現長久以來下載影片會有卡住的問題，以前我以為修好了，結果並沒有修好，怎麼使用下載器下載影片的人都沒有這問題 = =?

## ver1.1.4 2021/08/21
- 1.發現 Mac 移動視窗會觸發最小化的問題，經過嘗試，只能解決按住背景移動不會被最小化，但是按住視窗標頭移動還是會最小化，所以 Mac 拔掉最小化到狀態列的功能。
- 2.發現狀態列按下結束就會馬上關程式的問題，現在會儲存檔案後才會關閉程式。

## ver1.1.3 2021/06/12
- 1.因發現一些 Url 很奇怪卻又能成功拿到動漫資料，現在乾脆改成出現錯誤就直接顯示錯誤 Url。
- 2.發現 timeout 可以帶 tuple(請求時間, 讀取時間)，這樣能解決 requests 卡死的問題。
- 3.因解決下載時會卡住的問題，所以把重新下載的功能暫時棄用。
- 4.更新 requirements.txt
- 5.bs4 抓動漫名字改成抓 title。
- 6.縮小到狀態列時增加跳出訊息。
- 7.下載狀態增加了一些文字敘述。
- 8.開啟程式時會先 requests MyselfAnime 網站，如果失敗會跳出訊息。

## ver1.1.2 2021/04/24
- 1.增加檢查更新與最小化的設定選項。
- 2.增加按背景就能拖曳視窗的功能。

## ver1.1.1 2021/04/24
- 1.現在設定同時下載數量的數字不能用負數而且必須大於0值，否則會變回預設值。
- 2.增加一個選項當下載失敗時，依照設定的時間後會重新繼續下載。
	- 跟伺服器請求失敗66次會變成下載失敗。
- 3.因某些動漫不太熱門，導致程式會發生下載卡死的情況，現在每(設定下載失敗的重新下載時間 + 60)秒發現下載卡死了，就會依照設定的時間後會重新繼續下載，嘗試解決下載卡死的問題。
	- 作者有內側幾次，看起來沒問題。
	- 如果還有發生這種情況，拜託請在告訴我!
	

## ver1.1.0 2021/03/14
- 1.完結動漫的頁面新增頁碼，現在不搜尋也可以看到動漫資訊。
- 2.修改 Config 的下載選項。
	- 高速 10個連接改成6個連接
	- 星爆16個連接改成 10個連接。
- 3.現在關閉程式時儲存資料完才會關閉，應該能解決重複片段的問題(還得多測試)。
- 4.現在縮放與版面配置 100% 125% 150% 175% 用Qt提供的方法解決不同配置會出現排版亂掉的問題。
- 5.上次更新時沒注意到下載完動漫後，重新打開時下載完畢的動漫不會顯示在下載清單內，現在修回來了!要按清除已完成才會消失。
- 6.發現有些動漫的官方網站很長導致排版會壞掉，現在有限制寬度並將官方網址增加超連結。
- 7.動漫資訊頁面的資訊滑鼠移過去增加文字提示。
- 8.修改下載動漫的 Thread 。
	- 取消 shutil 模組寫入檔案，改回用 .content 的方式。
	- 增加關閉程式時要判斷的參數。
	- 修正結束 Thread 會將還沒下載完的動漫砍掉的問題。
	- 修正現在寫完.ts動漫時，json更新沒有寫入的問題。
- 9.增加 MyselfAnime.png。

## ver1.0.5 2021/02/06
- 1.修正 www 開頭的 url 會是無效的判斷。
- 2.新增登入登出功能。
	- 因為官方現在不能上傳頭貼圖，我無法測試帳號自定義的頭貼圖，所以目前統一用預設圖。
- 3.現在可以查詢及下載 R18 的動漫。
- 4.因有登入登出功能關係，提高程式高度。
- 5.每周動漫頁面滑鼠移到動漫名字本來是黑色現在改成藍色的。

## ver1.0.4 2021/01/26
- 1.解決 Mac 11 版本打不開程式的問題，更新 PyQt 版本重新打包即可。
- 2.將 Mac 的工作路徑寫死 `/Applications/MyselfAnime.app/Contents/Macos`
- 3.新增 Mac 打包成 .app 的 icns。

## ver1.0.3 2021/01/23
- 1.解決 Mac、Linux 無法使用打開目錄的功能。
- 2.現在點擊右上角最小化時，不再只是隱藏視窗。

## ver1.0.2
- 1.將很多功能拆到 event 資料夾裡，減少 main.py 的行數。
	- 有些功能拆到別的 .py 檔時，可以正常的創建 QtWidget 的物件，有些則不行，不知道為什麼??
	- 有些功能則是拆過去版面配置會亂掉，所以不拆。
- 2.將 `wait_list`, `now_list`拔掉，改成單獨一個 `download_queue`因這個改動程式碼做了大幅的改動。
	- main.py。
		- 提升與降低優先權的程式碼。
		- 剛開啟時讀取上一次動漫載到哪裡的程式碼。
		- 創建下載任務 TableWidget 的程式碼。
	- Myself_thread.py。
		- Class DownloadVideo 。
- 3.新增UpadteLog.md。
- 4.README 更新。

## ver1.0.1
- 1.修正 下載 wait 到 now 後，又新增資料到　 wait 裡面問題，不知道為什麼之前都沒發現?? 還是是之後拆開功能才發生的BUG??  未來將重寫續下載功能，現在這種方式有點不穩又怪怪的，現在測試的時候有出現BUG，但沒有每次都發生所以找不到問題點在哪。
- 2.現在手動查詢版本狀況已經是最新版本時會跳出提示。
- 3.解決 Mac 因排版亂掉發生點不到功能的問題

## ver1.0
- 12/05 的 版本
![image](https://i.imgur.com/WYDIX0m.gif)<br>